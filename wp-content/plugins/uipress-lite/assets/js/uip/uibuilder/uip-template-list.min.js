const{__:__,_x:_x,_n:_n,_nx:_nx}=wp.i18n;export function moduleData(){return{data:function(){return{templates:[],page:1,totalPages:0,totalFound:0,loading:!1,initialLoading:!0,selectAll:!1,search:"",strings:{status:__("Status","uipress-lite"),forRoles:__("Roles and users","uipress-lite"),excludes:__("Excludes","uipress-lite"),modified:__("Modified","uipress-lite"),name:__("Name","uipress-lite"),type:__("Type","uipress-lite"),active:__("Active","uipress-lite"),draft:__("Draft","uipress-lite"),results:__("results","uipress-lite"),searchTemplates:__("Search templates","uipress-lite"),templateDuplicated:__("Template duplicated","uipress-lite"),templateDeleted:__("Template deleted","uipress-lite"),deleteSelected:__("Delete selected","uipress-lite"),uiBuilder:__("uiBuilder","uipress-lite"),newTemplate:__("New template","uipress-lite"),welcomeTotheUibuilder:__("It's a little quiet!","uipress-lite"),welcomeMeta:__("Create a new template to get started with uiBuilder or check out the docs","uipress-lite"),viewDocs:__("View docs","uipress-lite"),editTemplate:__("Edit template","uipress-lite"),duplicateTemplate:__("Duplicate template","uipress-lite"),deleteTemplate:__("Delete template","uipress-lite"),version:__("version","uipress-lite"),tools:__("Tools","uipress-lite"),settings:__("Site settings","uipress-lite"),phpErrorLog:__("PHP error log","uipress-lite"),roleEditor:__("Role editor","uipress-lite"),pro:__("pro","uipress-lite")},activeTableTab:"all",tabletabs:[{name:"all",label:__("All templates","uipress-lite")},{name:"active",label:__("Active","uipress-lite")},{name:"drafts",label:__("Drafts","uipress-lite")},{name:"templates",label:__("UI Templates","uipress-lite")},{name:"pages",label:__("Admin pages","uipress-lite")}]}},inject:["uipData","router","uipress","uipMediaLibrary"],mounted:function(){let e=this.$route.query;e&&(e.page&&(this.page=parseInt(e.page)),e.search&&(this.search=e.search)),this.getTemplates()},watch:{search:{handler(e,i){this.page=1,this.pushQueries(),this.getTemplates()},deep:!0},selectAll:{handler(e,i){this.selectAllItems(e)},deep:!0},activeTableTab:{handler(e,i){this.getTemplates()}}},computed:{returnTableData(){return this.templates},toggleSelect(){return this.templates},returnPage(){return this.page},returnSelected(){let e=this,i=0;for(const t of e.templates)t.selected&&(i+=1);return i},returnSelectedIDs(){let e=this,i=[];for(const t of e.templates)t.selected&&i.push(t.id);return JSON.stringify(i)}},methods:{selectAllItems(e){let i=this;for(const t of i.templates)t.selected=e},pushQueries(){this.$router.push({query:{search:this.search,page:this.page}})},getTemplates(){let e=this;if(1==e.loading)return;e.loading=!0;let i=new FormData;i.append("action","uip_get_ui_templates"),i.append("security",uip_ajax.security),i.append("page",e.returnPage),i.append("search",e.search),i.append("filter",e.activeTableTab),e.uipress.callServer(uip_ajax.ajax_url,i).then(i=>{e.templates=i.templates,e.totalPages=i.totalPages,e.totalFound=i.totalFound,e.loading=!1,e.initialLoading=!1})},duplicateTemplate(e){let i=this,t=new FormData;t.append("action","uip_duplicate_ui_template"),t.append("security",uip_ajax.security),t.append("id",e),i.uipress.callServer(uip_ajax.ajax_url,t).then(e=>{e.error?i.uipress.notify(e.message,"","error",!0):(i.uipress.notify(i.strings.templateDuplicated,"","success",!0),i.getTemplates())})},deleteTemplate(e){let i=this,t=new FormData;t.append("action","uip_delete_ui_template"),t.append("security",uip_ajax.security),t.append("templateids",e),i.uipress.callServer(uip_ajax.ajax_url,t).then(e=>{e.error?i.uipress.notify(e.message,"","error",!0):(i.uipress.notify(e.message,"","warning",!0),i.getTemplates())})},createNewUI(){let e=this,i=new FormData;i.append("action","uip_create_new_ui_template"),i.append("security",uip_ajax.security),e.uipress.callServer(uip_ajax.ajax_url,i).then(i=>{e.router.push("/uibuilder/"+i.id+"/")})},confirmDelete(e){let i=this;i.uipress.confirm(__("Are you sure you want to delete this template?","uipress-lite"),__("Deleted templates can't be recovered","uipress-lite"),__("Delete","uipress-lite")).then(t=>{t&&i.deleteTemplate(e)})},confirmDeleteMultiple(e){let i=this;i.uipress.confirm(__("Are you sure you want to multiple templates?","uipress-lite"),__("Deleted templates can't be recovered","uipress-lite"),__("Delete","uipress-lite")).then(t=>{t&&i.deleteTemplate(e)})},editLayout(e){this.router.push("/uibuilder/"+e+"/")},goBack(){this.page>1&&(this.page=this.page-1,this.pushQueries(),this.getTemplates())},goForward(){this.page<this.totalPages&&(this.page=this.page+1,this.pushQueries(),this.getTemplates())},componentExists(e){return!!this.$root._.appContext.components[e]}},template:'\n    \n    \n  <div class="uip-padding-m uip-background-default uip-body-font uip-text-normal uip-app-frame uip-border-box uip-overflow-auto" style="min-height: calc(100vh - 32px); max-height: calc(100vh - 32px)">\n\t\t<div class="uip-flex uip-flex-between uip-margin-bottom-l uip-flex-center">\n      <div class="uip-flex uip-flex-row uip-gap-xs uip-flex-center">\n        <div class="uip-w-32 uip-ratio-1-1 uip-logo"></div>\n\t\t\t  <div class="uip-flex uip-flex-column uip-row-gap-xxs">\n        \n          <span class="uip-text-xl uip-text-bold uip-text-emphasis">{{strings.uiBuilder}}</span>\n          <span class="uip-text-xs uip-text-muted">{{strings.version}} {{uipData.options.uipVersion}}</span>\n        \n        </div>\n      </div>\n      \n      <div class="uip-flex uip-flex-row uip-gap-xs uip-flex-center">\n      \n      \n        <drop-down dropPos="bottom-right">\n          <template v-slot:trigger>\n\t\t\t      <div class="uip-button-default uip-flex uip-flex-row uip-gap-xxs uip-flex-center">\n              <span class="uip-icon">build</span>\n              <span>{{strings.tools}}</span>\n            </div>\n          </template>\n          <template v-slot:content>\n            <div class="uip-flex uip-flex-column uip-padding-xxs uip-min-w-150">\n            \n              \x3c!-- ERROR LOG --\x3e \n              <uip-offcanvas position="right" style="max-width:90%;width:500px">\n                <template v-slot:trigger>\n                  <div class="uip-flex uip-gap-xs uip-link-muted uip-flex-center uip-padding-xxs hover:uip-background-muted uip-border-round">\n                    <div class="uip-icon">code</div>\n                    <div class="">{{strings.phpErrorLog}}</div>\n                  </div>\n                </template>\n                <template v-slot:content>\n                  <div class="uip-w-100p">\n                    <uip-error-log></uip-error-log>\n                  </div>\n                </template>\n              </uip-offcanvas>\n              \n              \x3c!-- ROLE EDITOR --\x3e \n              \n              <div v-if="!componentExists(\'uip-role-editor\')" class="uip-flex uip-gap-xs uip-link-muted uip-flex-center uip-padding-xxs uip-border-round">\n                 <div class="uip-icon">verified</div>\n                 <div class="uip-flex-grow">{{strings.roleEditor}}</div>\n                 <div class="uip-padding-xxs uip-padding-top-xxxs uip-padding-bottom-xxxs uip-background-green-wash uip-border-round uip-text-s uip-flex uip-gap-xxs uip-flex-center">\n                    <span class="uip-icon">redeem</span>\n                    <span class="uip-line-height-1">{{strings.pro}}</span>\n                 </div>\n              </div>\n              \n              <uip-offcanvas v-else position="right" style="max-width:90%;width:500px">\n                <template v-slot:trigger>\n                  <div class="uip-flex uip-gap-xs uip-link-muted uip-flex-center uip-padding-xxs hover:uip-background-muted uip-border-round">\n                    <div class="uip-icon">verified</div>\n                    <div class="">{{strings.roleEditor}}</div>\n                  </div>\n                </template>\n                <template v-slot:content>\n                  <div class="uip-w-100p">\n                    <uip-role-editor></uip-role-editor>\n                  </div>\n                </template>\n              </uip-offcanvas>\n              \n            </div>\n          </template>\n        </drop-down>\n        \n        <uip-offcanvas position="right" style="max-width:90%;width:500px;padding:0;">\n          <template v-slot:trigger>\n            <div class="uip-button-default uip-flex uip-flex-row uip-gap-xxs uip-flex-center">\n              <span class="uip-icon">tune</span>\n              <span>{{strings.settings}}</span>\n            </div>\n          </template>\n          <template v-slot:content>\n            <uip-global-settings></uip-global-settings>\n          </template>\n        </uip-offcanvas>  \n      \n      </div>\n\t\t</div>\n    \n    \x3c!--EMPTY--\x3e\n    <div v-if="returnTableData.length == 0 && !loading && search == \'\' && activeTableTab == \'all\'" class="uip-flex uip-flex-center uip-flex-middle uip-padding-top-l">\n      <div class="uip-flex uip-flex-column uip-row-gap-s uip-flex-start uip-max-w-100p">\n        <div class="uip-icon" style="font-size:120px; margin-left:-15px">\n          dashboard_customize\n        </div>\n        <div class="uip-text-emphasis uip-text-bold uip-text-xxl">{{strings.welcomeTotheUibuilder}}</div>\n        <div class="uip-text-l uip-w-400">{{strings.welcomeMeta}}</div>\n        <div class="uip-flex uip-flex-row uip-gap-m uip-flex-center uip-margin-top-s">\n          <div class="uip-button-primary" @click="createNewUI">{{strings.newTemplate}}</div>\n          <a href="https://www.notion.so/uipress/UiPress-Documentation-c06fbfd10de2438a9bb1e416028a8d61"\n          target="_BLANK" class="uip-link-default uip-no-underline uip-flex uip-gap-xxs uip-flex-center uip-border-bottom-primary uip-padding-bottom-xxs">\n            <span class="uip-text-bold">{{strings.viewDocs}}</span>\n            <span class="uip-icon">arrow_forward</span>\n          </a>\n        </div>\n      </div>\n    </div>\n    \n    \x3c!--LIST--\x3e\n    <template v-else>\n      \n      \n      \n      <div class="uip-margin-bottom-s uip-flex uip-flex-between uip-flex-center">\n      \n        <div class="uip-flex uip-flex-row uip-gap-xxs uip-flex-center">\n        \n          <template v-for="(tab, index) in tabletabs">\n               <div class="uip-padding-xs uip-cursor-pointer uip-tab-item uip-text-m uip-border-round uip-background-muted uip-line-height-1 uip-no-text-select" @click="activeTableTab = tab.name"\n               :class="tab.name == activeTableTab ? \'uip-background-primary uip-text-inverse uip-tab-item-active\' : \'hover:uip-background-grey\'">{{tab.label}}</div>\n          </template>\n            \n           \n           <div v-if="returnSelected > 0" class="uip-margin-left-m">\n               <button @click="confirmDeleteMultiple(returnSelectedIDs)" class="uip-button-danger" >{{strings.deleteSelected}} <strong> ({{returnSelected}}) </strong></button>\n           </div>\n           \n        </div>\n         \n         <div class="uip-flex uip-flex-row uip-gap-s uip-flex-center">\n         \n           <div class="uip-flex uip-padding-xxs uip-border uip-search-block uip-border-round">\n              <span class="uip-icon uip-text-muted uip-margin-right-xs uip-text-l uip-icon-medium">search</span> \n              <input class="uip-blank-input uip-flex-grow uip-text-s" type="search" v-model="search" :placeholder="strings.searchTemplates" autofocus="">\n           </div>\n           \n           <div class="uip-button-primary uip-flex uip-flex-row uip-gap-xxs uip-flex-center" @click="createNewUI">\n             <span class="uip-icon">add</span>\n             <span>{{strings.newTemplate}}</span>\n           </div>\n           \n         </div>\n         \n      </div>\n     \n      \n      <div class="uip-max-w-100p uip-overflow-auto uip-borde uip-border-round uip-margin-bottom-s">\n        \n\t\t    <table v-if="returnTableData.length > 0" class="uip-w-100p uip-border-collapse uip-min-w-1000">\n\t\t      <thead>\n\t\t\t      <tr class="uip-border-bottom uip-border-tp">\n\t\t\t\t      <th class="uip-text-left uip-w-28 uip-padding-xs uip-padding-left-s uip-padding-right-s"><input v-model="selectAll" class="uip-checkbox" type="checkbox"></th>\n\t\t\t\t      <th class="uip-text-left uip-text-weight-normal uip-text-muted uip-padding-xs uip-padding-left-s uip-padding-right">{{strings.name}}</th>\n              <th class="uip-text-left uip-text-weight-normal uip-text-muted uip-padding-xs uip-padding-left-s uip-padding-right">{{strings.type}}</th>\n\t\t\t\t      <th class="uip-text-left uip-text-weight-normal uip-text-muted uip-padding-xs uip-padding-left-s uip-padding-right">{{strings.status}}</th>\n\t\t\t\t      <th class="uip-text-left uip-text-weight-normal uip-text-muted uip-padding-xs uip-padding-left-s uip-padding-right">{{strings.forRoles}}</th>\n              <th class="uip-text-left uip-text-weight-normal uip-text-muted uip-padding-xs uip-padding-left-s uip-padding-right">{{strings.excludes}}</th>\n\t\t\t\t      <th class="uip-text-left uip-text-weight-normal uip-text-muted uip-padding-xs uip-padding-left-s uip-padding-right">{{strings.modified}}</th>\n\t\t\t\t      <th class="uip-text-left uip-text-weight-normal uip-text-muted uip-padding-xs uip-padding-left-s uip-padding-right"></th>\n            </tr>\n            <tr>\n              <div class="uip-ajax-loader" v-if="loading && !initialLoading">\n                <div class="uip-loader-bar"></div>\n              </div>\n            </tr>\n\t\t\t    </thead>\n          <tbody v-if="!initialLoading">\n          \n              <template v-for="(item, index) in returnTableData">\n                <tr @mouseover="item.hover = true" @mouseleave="item.hover = false" class="uip-cursor-pointer hover:uip-background-muted" :class="{\'uip-border-bottom\' : index !== returnTableData.length - 1}">\n                  <td class="uip-padding-s "><input v-model="item.selected" class="uip-checkbox" type="checkbox"></td>\n                  <td class="uip-padding-s  uip-text-bold" @click="editLayout(item.id)">{{item.name}}</td>\n                  \n                  <td class="uip-padding-s ">\n                    <span v-if="item.type" class="uip-text- uip-border-round">\n                    {{item.type}}\n                    </span>\n                  </td>\n                  \n                  <td class="uip-padding-s ">\n                    <div v-if="item.status == \'publish\'" class="uip-background-green-wash uip-text-green uip-text-bold uip-border-round uip-padding-xxxs uip-inline-flex uip-text-s">\n                    {{strings.active}}\n                    </div>\n                    <div v-if="item.status == \'draft\'" class="uip-background-orange-wash uip-text-bold uip-border-round uip-padding-xxxs uip-inline-flex uip-text-s">\n                    {{strings.draft}}\n                    </div>\n                  </td>\n                  <td class="uip-padding-s ">\n                    <div class="uip-flex uip-flex-row uip-gap-xxs uip-row-gap-xxs uip-flex-wrap">\n                      <template v-for="user in item.for">\n                        <div class="uip-padding-left-xxs uip-padding-right-xxs uip-background-primary-wash uip-border-round">{{user.name}}</div>\n                      </template>\n                    </div>\n                  </td>\n                  <td class="uip-padding-s ">\n                    <div class="uip-flex uip-flex-row uip-gap-xxs uip-row-gap-xxs uip-flex-wrap">\n                      <template v-for="user in item.excludes">\n                        <div class="uip-padding-left-xxs uip-padding-right-xxs uip-background-primary-wash uip-border-round">{{user.name}}</div>\n                      </template>\n                    </div>\n                  </td>\n                  <td class="uip-padding-s ">{{item.modified}}</td>\n                  <td class="uip-padding-s  uip-w-150">\n                    <div v-if="item.hover" class="uip-flex uip-gap-xxs uip-flex-center uip-flex-right">\n                      <uip-tooltip :message="strings.editTemplate" :delay="200"> <div class="uip-link-muted uip-no-underline uip-icon uip-text-l" @click="editLayout(item.id)">edit_document</div> </uip-tooltip>\n                      <uip-tooltip :message="strings.duplicateTemplate" :delay="200"> <div class="uip-link-muted uip-no-underline  uip-icon uip-text-l" @click="duplicateTemplate(item.id)">content_copy</div> </uip-tooltip>\n                      <div class="uip-border-right uip-h-12"></div>\n                      <uip-tooltip :message="strings.deleteTemplate" :delay="200"> <div class="uip-link-muted uip-no-underline  uip-icon uip-text-danger uip-text-l" @click="confirmDelete(item.id)">delete</div> </uip-tooltip>\n                    </div>\n                  </td>\n                </tr>\n              </template>\n              \n          </tbody>\n\t\t    </table>\n      </div>\n      <div v-if="initialLoading" class="uip-w-100p uip-flex uip-flex-center uip-flex-middle uip-h-600">\n        <loading-chart></loading-chart>\n      </div>\n      <div class="uip-flex uip-flex-row uip-flex-between uip-flex-center">\n        <div class="">{{totalFound + \' \' + strings.results}}</div>\n        <div class="uip-flex uip-gap-xs uip-padding-xs" v-if="totalPages > 0">\n          <button @click="goBack" v-if="totalPages > 1" class="uip-button-default uip-icon uip-search-nav-button">chevron_left</button>\n          <button @click="goForward" v-if="page < totalPages" class="uip-button-default uip-icon uip-search-nav-button">chevron_right</button>\n        </div>\n      </div>\n    </template>\n\t</div>'}};