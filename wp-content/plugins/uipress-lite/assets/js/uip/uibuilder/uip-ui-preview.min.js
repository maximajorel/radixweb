const{__:__,_x:_x,_n:_n,_nx:_nx}=wp.i18n;export function moduleData(){return{inject:["uipData","router","uipress","uiTemplate","layersPanel","unsavedChanges"],data:function(){return{loading:!0,templateID:this.$route.params.templateID,saving:!1,helpLoaded:!1,allUiTemplates:[],ui:{zoom:.9,viewDevice:"desktop",strings:{backToList:__("Exit builder","uipress-lite"),toggleLayers:__("Toggle layers panel","uipress-lite"),backToList:__("Back to template list","uipress-lite"),zoomIn:__("Zoom in","uipress-lite"),zoomOut:__("Zoom out","uipress-lite"),darkMode:__("Dark mode","uipress-lite"),preview:__("Preview","uipress-lite"),import:__("Import template","uipress-lite"),export:__("Export template","uipress-lite"),templateLibrary:__("Template Library","uipress-lite"),mobile:__("Mobile","uipress-lite"),desktop:__("Desktop","uipress-lite"),tablet:__("Tablet","uipress-lite"),saveTemplate:__("Save","uipress-lite"),help:__("Help","uipress-lite"),docs:__("Documentation and guides","uipress-lite"),active:__("Active","uipress-lite"),draft:__("Draft","uipress-lite"),newTemplate:__("New template","uipress-lite"),recentTemplates:__("Recent templates","uipress-lite"),templateName:__("Template name","uipress-lite"),active:__("Active","uipress-lite"),draft:__("Draft","uipress-lite")}},previewOptions:[{value:"builder",label:__("Builder","uipress-lite")},{value:"preview",label:__("Preview","uipress-lite")}]}},provide(){return{saveTemplate:this.saveCleanTemplate}},watch:{"ui.viewDevice":{handler(e,i){let t=this;if("desktop"==e){t.uiTemplate.windowWidth="1000";let e=document.getElementById("uip-preview-content");e&&(e.classList.add("uip-desktop-view"),e.classList.remove("uip-tablet-view"),e.classList.remove("uip-phone-view"))}if("tablet"==e){t.uiTemplate.windowWidth="699";let e=document.getElementById("uip-preview-content");e&&(e.classList.add("uip-tablet-view"),e.classList.remove("uip-desktop-view"),e.classList.remove("uip-phone-view"))}if("phone"==e){t.uiTemplate.windowWidth="600";let e=document.getElementById("uip-preview-content");e&&(e.classList.add("uip-phone-view"),e.classList.remove("uip-tablet-view"),e.classList.remove("uip-desktop-view"))}let p=new CustomEvent("uip_builder_preview_change",{detail:{windowWidth:t.uiTemplate.windowWidth}});document.dispatchEvent(p)},deep:!0},"uiTemplate.content":{handler(e,i){0!=i.length&&(this.unsavedChanges=!0)},deep:!0},"uipData.templateDarkMode":{handler(e,i){let t="light";e&&(t="dark");let p=document.getElementsByClassName("uip-page-content-frame");p[0]&&p[0].contentWindow.document.documentElement.setAttribute("data-theme",t)},deep:!0},"uipData.userPrefs.darkTheme":{handler(e,i){"prod"!=this.uiTemplate.display&&(this.uipData.templateDarkMode=e)},deep:!0},"ui.zoom":{handler(e,i){let t=Math.round(10*e)/10;this.uipress.saveUserPreference("builderPrefersZoom",String(t),!1)},deep:!0},"$route.params.templateID":{handler(){this.templateID=this.$route.params.templateID}}},mounted:function(){this.loading=!1;let e=this,i=parseFloat(this.uipData.userPrefs.builderPrefersZoom);i&&void 0!==i&&(this.ui.zoom=i);let t=navigator.platform.toUpperCase().indexOf("MAC")>=0,p=!!navigator.platform.match(/(Mac|iPhone|iPod|iPad)/i),a=!!navigator.platform.match(/(iPhone|iPod|iPad)/i);(t||p||a)&&document.body.classList.add("macos"),window.addEventListener("keydown",function(i){83==i.keyCode&&(i.ctrlKey||i.metaKey)&&(i.preventDefault(),e.saveTemplate())})},computed:{returnAllUiTemplates(){let e=this;if(!(e.allUiTemplates.length<1))return this.allUiTemplates;{let i=new FormData;i.append("action","uip_get_ui_templates"),i.append("security",uip_ajax.security),i.append("page",1),i.append("search",""),e.uipress.callServer(uip_ajax.ajax_url,i).then(e=>(this.allUiTemplates=e.templates,this.allUiTemplates))}},returnLayout(){return this.uiTemplate.layout},returnTemplateJS(){if(void 0!==this.uiTemplate.globalSettings.options)return"advanced"in this.uiTemplate.globalSettings.options&&"js"in this.uiTemplate.globalSettings.options.advanced?this.uiTemplate.globalSettings.options.advanced.js:void 0},returnTemplateCSS(){if(void 0!==this.uiTemplate.globalSettings.options)return"advanced"in this.uiTemplate.globalSettings.options&&"css"in this.uiTemplate.globalSettings.options.advanced?this.uiTemplate.globalSettings.options.advanced.css:void 0}},methods:{returnColorMode(){return this.uipData.userPrefs.darkTheme?"dark":this.uipData.templateDarkMode?"dark":"light"},saveTemplate(){let e=this;e.saving=!0;let i=JSON.parse(JSON.stringify(e.uiTemplate.content));this.uipress.cleanTemplate(i).then(t=>{e.saveCleanTemplate(i)})},async saveCleanTemplate(e){let i=this,t={};t.globalSettings=JSON.parse(JSON.stringify(i.uiTemplate.globalSettings)),t.content=e;let p=JSON.stringify(t,(e,i)=>"true"===i?"uiptrue":!0===i?"uiptrue":"false"===i?"uipfalse":!1===i?"uipfalse":""===i?"uipblank":i),a=this.formatStyles(),n=JSON.stringify(a,(e,i)=>"true"===i?"uiptrue":!0===i?"uiptrue":"false"===i?"uipfalse":!1===i?"uipfalse":""===i?"uipblank":i),s=new FormData;return s.append("action","uip_save_ui_template"),s.append("security",uip_ajax.security),s.append("templateID",i.templateID),s.append("template",p),s.append("styles",n),await i.uipress.callServer(uip_ajax.ajax_url,s).then(e=>{if(e.error)return i.uipress.notify(e.message,"uipress-lite","","error",!0),i.saving=!1,!1;if(e.success){i.uipress.notify(__("Template saved","uipress-lite"),"","success",!0),i.unsavedChanges=!1,i.saving=!1;let e=JSON.parse(JSON.stringify(i.uiTemplate.content));return i.uipress.logHistoryChange(__("Template saved","uipress-lite"),e,e),!0}})},formatStyles(){let e=this.uipData.themeStyles,i={};for(let t in e)e[t].value&&(i[e[t].name]||(i[e[t].name]={}),i[e[t].name].value=e[t].value),e[t].darkValue&&(i[e[t].name]||(i[e[t].name]={}),i[e[t].name].darkValue=e[t].darkValue),e[t].user&&(i[e[t].name].user=e[t].user,i[e[t].name].label=e[t].label,i[e[t].name].name=e[t].name,i[e[t].name].type=e[t].type);return i},goBackToList(){this.unsavedChanges?this.uipress.confirm(__("You have unsaved changes!","uipress-lite"),__("If you leave this page all unsaved changes will be discarded","uipress-lite")).then(e=>{e&&this.router.push("/")}):this.router.push("/")},returnLoadStyle(){if(this.saving)return"opacity:0;"},toggleLayers(){this.layersPanel.display=!this.layersPanel.display,this.uipress.saveUserPreference("builderLayers",this.layersPanel.display,!1)},removeInlineOptions(){this.uiTemplate.activePathLock||(this.uiTemplate.activePath=[])},toggleDisplay(){"preview"==this.uiTemplate.display?this.uiTemplate.display="builder":this.uiTemplate.display="preview"},preTemplateExport(){let e=this,i=e.uipress.notify(__("Exporting layout","uipress-lite"),"","default",!1,!0);e.uipress.cleanTemplate(e.uiTemplate.content).then(t=>{e.exportLayout(i)})},exportLayout(e){self=this;let i=JSON.stringify(self.uiTemplate.content),t=self.uiTemplate.globalSettings.name,p=new Date,a=String(p.getDate()).padStart(2,"0"),n="uip-ui-template-"+t+"-"+(String(p.getMonth()+1).padStart(2,"0")+"-"+a+"-"+p.getFullYear())+".json",s="data:text/json;charset=utf-8,"+encodeURIComponent(i),u=document.getElementById("uip-export-layout");u.setAttribute("href",s),u.setAttribute("download",n),u.click(),self.uipress.notify(__("Layout exported","uipress-lite"),"","success",!0),self.uipress.destroy_notification(e)},importSettings(){let e=this,i=e.uipress.notify(__("Importing layout","uipress-lite"),"","default",!1,!0),t=document.getElementById("uip-import-layout").files[0];if("application/json"!=t.type)return e.uipress.notify("Templates must be in valid JSON format","","error",!0,!1),void e.uipress.destroy_notification(i);if(t.size>1e6)return e.uipress.notify("Uploaded file is too big","","error",!0,!1),void e.uipress.destroy_notification(i);let p=new FileReader;p.readAsText(t,"UTF-8"),p.onload=function(t){let p,a=t.target.result;try{p=JSON.parse(a)}catch(t){return e.uipress.notify(t,"","error",!0,!1),void e.uipress.destroy_notification(i)}if(null!=p){if(!Array.isArray(p))return e.uipress.notify("Template is not valid","","error",!0,!1),void e.uipress.destroy_notification(i);e.uipress.validDateTemplate(p).then(t=>{t.includes(!1)?(e.uipress.notify("File is not a valid JSON template","","error",!0,!1),e.uipress.destroy_notification(i)):(e.uiTemplate.content=p,e.uipress.notify("Template imported","","success",!0,!1),e.uipress.destroy_notification(i))})}else e.uipress.notify("JSON parse failed","","error",!0,!1),e.uipress.destroy_notification(i)}},openThemeLibrary(){let e=this.$route.params.templateID;this.router.push("/uibuilder/"+e+"/library")},switchLayout(e){let i=this;this.unsavedChanges?this.uipress.confirm(__("You have unsaved changes!","uipress-lite"),__("If you leave this page all unsaved changes will be discarded","uipress-lite")).then(t=>{t&&(i.router.push("/uibuilder/"+e+"/"),i.unsavedChanges=!1)}):i.router.push("/uibuilder/"+e+"/")},confirmNewPage(e){let i=this;this.unsavedChanges?this.uipress.confirm(__("You have unsaved changes!","uipress-lite"),__("If you leave this page all unsaved changes will be discarded","uipress-lite")).then(e=>{e&&i.createNewUI()}):i.createNewUI()},createNewUI(){let e=this,i=new FormData;i.append("action","uip_create_new_ui_template"),i.append("security",uip_ajax.security),e.uipress.callServer(uip_ajax.ajax_url,i).then(i=>{e.uipress.notify("New template created","","success",!0,!1),e.router.push("/"),e.router.push("/uibuilder/"+i.id+"/"),e.returnAllUiTemplates})}},template:'\n    <component is="style" scoped >\n        .uip-user-frame[data-theme="light"]:not(.uip-app-frame){\n        <template v-for="item in uipData.themeStyles">\n           <template v-if="item.value">{{item.name}}:{{item.value}};</template>\n        </template>\n        }\n        .uip-user-frame[data-theme="dark"]:not(.uip-app-frame) *{\n        <template v-for="item in uipData.themeStyles">\n           <template v-if="item.darkValue"> {{item.name}}:{{item.darkValue}};</template>\n        </template>\n        }\n        {{returnTemplateCSS}}\n      </component>\n      <component is="script" scoped >\n        {{returnTemplateJS}}\n      </component>\n      <div class="uip-h-100p uip-w-100p uip-flex uip-flex-column uip-max-h-100p uip-overflow-hidden" @mouseleave="removeInlineOptions()">\n        \x3c!--PREVIEW TOOLBAR --\x3e\n        <div id="uip-ui-preview-toolbar" class="uip-flex uip-padding-s uip-gap-xs uip-flex-center uip-flex-between uip-background-default uip-border-bottom uip-flex-wrap">\n            <div class="uip-flex  uip-flex-center uip-app-frame">\n          \n              <div class="uip-logo uip-w-18 uip-ratio-1-1"></div>\n              <div class=" uip-margin-left-xxs uip-margin-right-xxs uip-h-20"></div>\n            \n                <uip-tooltip :message="ui.strings.backToList" :delay="500">\n                    <div @click="goBackToList()" class="hover:uip-background-muted uip-padding-xxxs uip-border-round uip-flex uip-flex-center  uip-icon uip-link-default uip-text-xl uip-ratio-1-1 uip-line-height-1 uip-icon-medium uip-rotate-180">\n                    logout\n                    </div>\n                </uip-tooltip>\n                <div class="uip-border-right uip-margin-left-xxs uip-margin-right-xxs uip-h-20"></div>\n              \n                <builder-history></builder-history>\n              \n                <div class="uip-border-right uip-margin-left-xxs uip-margin-right-xxs uip-h-20"></div>\n              \n              \x3c!-- Zooom icons --\x3e\n                <uip-tooltip :message="ui.strings.zoomOut" :delay="500">\n                    <div class="hover:uip-background-muted uip-padding-xxxs uip-border-round uip-flex uip-flex-center  uip-icon uip-link-default uip-text-xl uip-ratio-1-1 uip-line-height-1 uip-icon-medium uip-no-text-select" @click="ui.zoom -= 0.1">\n                    remove\n                    </div>\n                </uip-tooltip>\n                <uip-tooltip :message="ui.strings.zoomIn" :delay="500">\n                    <div class="hover:uip-background-muted uip-padding-xxxs uip-border-round uip-flex uip-flex-center  uip-icon uip-link-default uip-text-xl uip-ratio-1-1 uip-line-height-1 uip-icon-medium uip-no-text-select" @click="ui.zoom += 0.1">\n                    add\n                    </div>\n                </uip-tooltip>\n                \n                <div class="uip-border-right uip-margin-left-xxs uip-margin-right-xxs uip-h-20"></div>\n                  \n                <uip-tooltip :message="ui.strings.export" :delay="500">\n                    <div class="hover:uip-background-muted uip-padding-xxxs uip-border-round uip-flex uip-flex-center  uip-icon uip-link-default uip-text-xl uip-ratio-1-1 uip-line-height-1 uip-icon-medium" @click="preTemplateExport()" >\n                    file_download\n                    </div>\n                    <a id="uip-export-layout" href="" style="display:none;"></a>\n                </uip-tooltip>\n                <uip-tooltip :message="ui.strings.import" :delay="500">\n                    <label class="">\n                        <div class="hover:uip-background-muted uip-padding-xxxs uip-border-round uip-flex uip-flex-center  uip-icon uip-link-default uip-text-xl uip-ratio-1-1 uip-line-height-1 uip-icon-medium" >\n                        file_upload\n                        </div>\n                        <input hidden accept=".json" type="file" single="" id="uip-import-layout" @change="importSettings()">\n                    </label>\n                </uip-tooltip>\n              \n          \n            </div>\n            \x3c!--Middle actions --\x3e\n              <div class="uip-flex uip-gap-xxs uip-flex-center">\n                \n                <drop-down dropPos="bottom-left">\n                  <template v-slot:trigger>\n                    <div class="uip-flex uip-gap-xs">\n                      <div class="uip-flex uip-flex-column uip-line-height-1">\n                        <div class="uip-text-s uip-text-bold">Editing</div>\n                        <div class="uip-text-s uip-text-muted uip-flex uip-flex-center uip-gap-xxxs">\n                          <span v-if="uiTemplate.globalSettings.status" class="uip-w-5 uip-ratio-1-1 uip-display-inline-block uip-border-circle uip-background-green"></span>\n                          <span v-if="!uiTemplate.globalSettings.status" class="uip-w-5 uip-ratio-1-1 uip-display-inline-block uip-border-circle uip-background-orange"></span>\n                          <span>{{uiTemplate.globalSettings.name}}</span>\n                        </div>\n                      </div>\n                      <div class="uip-icon">arrow_downward</div>\n                    </div>\n                  </template>\n                  <template v-slot:content>\n                    <div class=" uip-flex uip-flex-column uip-min-w-200">\n                    \n                      <div class="uip-padding-xs uip-padding-bottom-remove">\n                        <input class="uip-blank-input  uip-w-100p" type="text" v-model="uiTemplate.globalSettings.name" :placeholder="ui.strings.templateName">\n                      </div>\n                    \n                      <div class="uip-padding-xs uip-border-bottom uip-flex uip-flex-column uip-row-gap-xs">\n                        \n                        <div class="uip-flex uip-flex-between uip-flex-center">\n                          <div class="uip-text-muted uip-text-s">\n                            <template v-if="uiTemplate.globalSettings.status">{{ui.strings.active}}</template>\n                            <template v-if="!uiTemplate.globalSettings.status">{{ui.strings.draft}}</template>\n                          </div>\n                          <label class="uip-switch">\n                            <input type="checkbox" v-model="uiTemplate.globalSettings.status">\n                            <span class="uip-slider"></span>\n                          </label>\n                        </div>\n                        \n                      </div>\n                      \n                      \n                      \n                      <div class="uip-padding-xxs uip-flex uip-flex-column uip-row-gap-xxs">\n                        <div class="uip-text-s uip-padding-xxs uip-text-muted">{{ui.strings.recentTemplates}}</div>\n                        <template v-for="template in returnAllUiTemplates">\n                          <div v-if="template.id != templateID" class="uip-padding-xxs hover:uip-background-muted uip-cursor-pointer uip-line-height-1 uip-border-round" @click="switchLayout(template.id)">\n                            <div class="uip-flex uip-flex-row uip-gap-xxs">\n                              <div class="uip-link-default uip-text-s">{{template.name}}</div>\n                              <div class="uip-text-xs uip-background-orange-wash uip-border-round uip-padding-xxxs uip-post-type-label uip-flex uip-gap-xxs uip-flex-center uip-tag-label uip-inline-flex"\n                              :class="{\'uip-background-green-wash\' : template.status == \'publish\'}">\n                                <div v-if="template.status == \'publish\'">\n                                  {{ui.strings.active}}\n                                </div>\n                                <div v-if="template.status == \'draft\'">\n                                  {{ui.strings.draft}}\n                                </div>\n                              </div>\n                            </div>                            <div class="uip-text-xs uip-text-muted">{{template.modified}}</div>\n                          </div>\n                        </template>\n                      </div>\n                      \n                      <div class="uip-padding-xs uip-border-top">\n                        <div class="uip-link-muted uip-flex uip-flex-row uip-gap-xxs uip-flex-center" @click="confirmNewPage()">\n                          <span class="uip-icon">add</span>\n                          <span>{{ui.strings.newTemplate}}</span>\n                        </div>\n                      </div>\n                      \n                    </div>\n                  </template>\n                </drop-down>\n                \n                <div class="uip-h-20 uip-border-right"></div>\n              \n                <uip-tooltip :message="ui.strings.desktop" :delay="500">\n                    <div class="hover:uip-background-muted uip-padding-xxs uip-padding-left-xxxs uip-padding-right-xxxs uip-flex uip-flex-center uip-icon uip-link-default uip-text-l uip-ratio-1-1 uip-line-height-1 uip-icon-medium" @click="ui.viewDevice = \'desktop\'" :class="{\'uip-border-bottom-primary uip-text-primary\' : ui.viewDevice == \'desktop\'}">\n                    desktop_windows\n                    </div>\n                </uip-tooltip>\n                <uip-tooltip :message="ui.strings.tablet" :delay="500">\n                    <div class="hover:uip-background-muted uip-padding-xxs uip-padding-left-xxxs uip-padding-right-xxxs uip-flex uip-flex-center  uip-icon uip-link-default uip-text-l uip-ratio-1-1 uip-line-height-1 uip-icon-medium" @click="ui.viewDevice = \'tablet\'" :class="{\'uip-border-bottom-primary uip-text-primary\' : ui.viewDevice == \'tablet\'}">\n                    tablet_mac\n                    </div>\n                </uip-tooltip>\n                <uip-tooltip :message="ui.strings.phone" :delay="500">\n                    <div class="hover:uip-background-muted uip-padding-xxs uip-padding-left-xxxs uip-padding-right-xxxs uip-flex uip-flex-center  uip-icon uip-link-default uip-text-l uip-ratio-1-1 uip-line-height-1 uip-icon-medium" @click="ui.viewDevice = \'phone\'" :class="{\'uip-border-bottom-primary uip-text-primary\' : ui.viewDevice == \'phone\'}">\n                    smartphone\n                    </div>\n                </uip-tooltip>\n              </div>            \n            <div class="uip-flex uip-gap-xxs uip-flex-center">\n          \n        \n              \n              \n                <uip-tooltip :message="ui.strings.preview" :delay="500">\n                    <div class="hover:uip-background-muted uip-padding-xxxs uip-border-round uip-flex uip-flex-center  uip-icon uip-link-default uip-text-xl uip-ratio-1-1 uip-line-height-1 uip-icon-medium" @click="toggleDisplay()" :class="{\'uip-background-grey uip-text-emphasis\' : uiTemplate.display == \'preview\'}">\n                    pageview\n                    </div>\n                </uip-tooltip>\n                \n                <uip-tooltip :message="ui.strings.darkMode" :delay="500">\n                    <div class="hover:uip-background-muted uip-padding-xxxs uip-border-round uip-flex uip-flex-center  uip-icon uip-link-default uip-text-xl uip-ratio-1-1 uip-line-height-1 uip-icon-medium" @click="uipData.userPrefs.darkTheme = !uipData.userPrefs.darkTheme" :class="{\'uip-background-grey uip-text-emphasis\' : uipData.userPrefs.darkTheme}">\n                    dark_mode\n                    </div>\n                </uip-tooltip>\n              \n                <div class="uip-h-20 uip-border-right uip-margin-left-xxxs uip-margin-right-xxxs"></div>\n                \n                \x3c!--Help tab --\x3e\n                <uip-offcanvas position="right" :style="\'padding:0\'">\n                  <template v-slot:trigger>\n                    <uip-tooltip :message="ui.strings.docs" :delay="500">\n                        <div class="hover:uip-background-muted uip-padding-xxxs uip-border-round uip-flex uip-flex-center  uip-icon uip-link-default uip-text-xl uip-ratio-1-1 uip-line-height-1 uip-icon-medium">\n                        menu_book\n                        </div>\n                    </uip-tooltip>\n                  </template>\n                  <template v-slot:content>\n                    <div class="uip-max-h-100vh uip-overflow-hidden uip-w-100p">\n                      <div class="uip-padding-m uip-flex uip-flex-center uip-flex-middle" v-if="!helpLoaded">\n                        <loading-chart ></loading-chart>\n                      </div>\n                      <iframe @load="helpLoaded = true" class="uip-h-100p uip-w-100p" src="https://v1.embednotion.com/embed/aafbebeb2ed3402abe0723cbd96b0a2a"></iframe>\n                    </div>\n                  </template>\n                </uip-offcanvas>\n              \n              \n              \x3c!--Layers toggle --\x3e\n              <uip-tooltip :message="ui.strings.toggleLayers" :delay="500">\n                  <div class="hover:uip-background-muted uip-padding-xxxs uip-flex uip-flex-center  uip-icon uip-link-default uip-text-xl uip-ratio-1-1 uip-line-height-1 uip-icon-medium uip-border-round" @click="toggleLayers()" :class="{\'uip-background-grey uip-text-emphasis\' : layersPanel.display}">\n                  layers\n                  </div>\n              </uip-tooltip>\n              \n            \n              <button @click="saveTemplate()" class="uip-button-primary uip-flex uip-flex-center uip-flex-middle uip-position-relative uip-text-s uip-margin-left-xxs" type="button">\n                <span :style="returnLoadStyle()" class="uip-flex uip-flex-center uip-flex-middle uip-gap-xs">\n                  <span>{{ui.strings.saveTemplate}}</span>\n                  <span class="uip-padding-left-xxxs uip-padding-right-xxxs uip-border uip-border-round uip-text-s uip-flex uip-flex-center uip-flex-row" data-theme="dark">\n                    <span class="uip-command-icon uip-text-muted"></span>\n                    <span class="uip-text-muted">S</span>\n                  </span>\n                </span>\n                <div class="uip-position-absolute uip-left-0 uip-right-0" v-if="saving">\n                  <span class="uip-load-spinner" ></span>\n                </div>\n              </button>\n            </div>\n        </div>\n        \x3c!--preview area --\x3e\n        <div class="uip-flex-grow uip-flex-grow uip-flex-middle uip-scrollbar uip-overflow-auto uip-max-w-100p uip-max-h-100p uip-w-100p uip-border-box">\n        \n            <div id="uip-ui-preview-area" class=" uip-user-frame uip-padding-m" :data-theme="returnColorMode()">\n            \n              <div id="uip-preview-content" class="uip-flex uip-flex-column uip-shadow uip-border uip-border-round uip-ratio-16-10 uip-background-default uip-text-normal uip-desktop-view"  :style="\'transform: scale( \' + ui.zoom + \');transform-origin: 0% 0%;\'" >\n                \x3c!--TOPBAR--\x3e\n                <div class="uip-border-bottom uip-padding-xxs uip-flex uip-gap-xxs">\n                  <svg viewBox="0 0 20 20" class="uip-w-8" fill="var(--uip-color-base-2)">\n                    <circle cx="10" cy="10" r="10" />\n                  </svg>\n                  <svg viewBox="0 0 20 20" class="uip-w-8" fill="var(--uip-color-base-2)">\n                    <circle cx="10" cy="10" r="10" />\n                  </svg>\n                  <svg viewBox="0 0 20 20" class="uip-w-8" fill="var(--uip-color-base-2)">\n                    <circle cx="10" cy="10" r="10" />\n                  </svg>\n                </div>\n                \x3c!--PAGE BODY--\x3e\n                <div id="uip-template-body" class="uip-flex-grow uip-ratio-16-10 uip-text-normal uip-body-font" >\n              \n                  <div class="uip-flex uip-h-100p uip-h-100p">\n                    \x3c!--MAIN DROP AREA--\x3e\n                    <uip-content-area :content="uiTemplate.content" :returnData="function(data) {uiTemplate.content = data} "></uip-content-area>\n                    \x3c!--END OF MAIN DROP AREA--\x3e\n                  </div>\n                  \n                </div>\n              </div>\n              \n            </div>\n          \n          \n        </div>\n        \x3c!--end of preview area --\x3e\n        <div class="uip-position-fixed uip-padding-left-xxs uip-padding-top-m uip-padding-bottom-m uip-flex uip-flex-column uip-row-gap-xxs uip-flex-start" id="uip-inline-block-options" v-show="uiTemplate.activePath.length > 0 && uiTemplate.display ==\'builder\'"\n        @mouseenter="uiTemplate.activePathLock = true" @mouseleave="uiTemplate.activePathLock = false" style="z-index:0">\n            <template v-for="block in uiTemplate.activePath">\n              <div style="font-size:18px;"\n              class="uip-padding-xxs uip-border-round uip-background-default uip-border uip-shadow uip-text-normal uip-flex uip-gap-xxs uip-flex-center">\n                  <div class="uip-text-xxs uip-text-muted">{{block.item.name}}</div>\n                  <div class="uip-border-left"></div>\n                  <block-actions :block="block.item" :parentList="block.container" :currentIndex="block.index" :smallIcons="true"></block-actions>\n              </div>\n            </template>\n        </div>\n      </div>'}};