const{__:__,_x:_x,_n:_n,_nx:_nx}=wp.i18n;import*as allUIPIcons from"./uip-icons.min.js";export function moduleData(){return{props:{returnData:Function,value:Object},data:function(){return{open:!1,icon:{},allIcons:allUIPIcons.returnIcons(),searchString:"",currentPage:0,iconsPerPage:63,totalIcons:0,maxPages:0,strings:{searchIcons:__("Search icons","uipress-lite"),clearIcon:__("Clear icon","uipress-lite"),chooseIcon:__("Choose icon","uipress-lite")}}},inject:["uipress"],watch:{icon:{handler(e,n){this.returnData(e)},deep:!0}},mounted:function(){this.formatIcon(this.value)},computed:{iconsPaged(){let e=this,n=e.allIcons,i=[],t=[],o=e.searchString.toLowerCase();e.currentPage<0&&(e.currentPage=0),e.totalIcons=e.allIcons.length,e.maxPages=Math.ceil(e.allIcons.length/this.iconsPerPage),e.currentPage>e.maxPages&&(e.currentPage=e.maxPages);let s=e.currentPage*e.iconsPerPage,a=s+e.iconsPerPage;if(o.length>0){e.currentPage=0;for(let e=0;e<n.length;e++)name=n[e].toLowerCase(),name.includes(o)&&t.push(n[e]);i=t.slice(s,a),e.totalIcons=i.length,e.maxPages=Math.ceil(i.length/this.iconsPerPage)}else i=this.allIcons.slice(s,a);return i}},methods:{formatIcon(e){return void 0===e?(this.icon.value="",this.icon):this.uipress.isObject(e)&&"value"in e?void(this.icon=e):void(this.icon.value="")},nextPage(){this.currentPage=this.currentPage+1},previousPage(){this.currentPage=this.currentPage-1},chooseIcon(e){this.icon.value=e,this.returnData(this.icon)}},template:'<div>\n        <drop-down dropPos="left">\n            <template v-slot:trigger>\n                \n                <div class="uip-background-muted uip-border-round uip-flex-column uip-overflow-hidden">\n                \n                  <div v-if="icon.value" class="uip-padding-s uip-background-grey uip-flex uip-flex-center uip-flex-middle">\n                    <span class="uip-icon uip-text-xxl">{{icon.value}}</span>\n                  </div>\n                  <div class="uip-padding-xs uip-link-muted">{{strings.chooseIcon}}</div>\n                \n                </div>\n                \n            </template>\n            <template v-slot:post-trigger>\n                \x3c!--<input type="text" class="uip-input-small uip-border-left-square uip-w-80 uip-border-left-remove" v-model="icon.value">--\x3e\n            </template>\n            <template v-slot:content>\n              <div class=" uip-max-w-320">\n                \n                <div class="uip-padding-xs uip-border-bottom">\n                  <div class="uip-flex  uip-search-block uip-border-round ">\n                    <span class="uip-icon uip-text-muted uip-margin-right-xs uip-text-l uip-icon uip-icon-medium" >search</span>\n                    <input class="uip-blank-input uip-flex-grow uip-text-s" type="search" :placeholder="strings.searchIcons" v-model="searchString" autofocus="">\n                  </div>\n                </div>\n                \n                <div class="uip-padding-xs uip-flex uip-flex-wrap uip-flex-start uip-border-bottom uip-gap-xs uip-row-gap-xs" style="font-size:16px">\n                  <template v-for="option in iconsPaged">\n                   <span class="uip-icon uip-icon-medium uip-text-xl hover:uip-background-muted uip-padding-xxxs uip-border-round hover:uip-background-grey uip-cursor-pointer uip-flex-no-grow uip-max-w-30 uip-overflow-hidden" @click="chooseIcon(option)">\n                     {{option}}\n                   </span>\n                  </template>\n                </div>\n                <div class="uip-flex uip-flex-between uip-padding-xs">\n                  <div class="uip-flex uip-gap-xs" v-if="totalIcons > iconsPerPage">\n                    <button class="uip-button-default uip-icon" @click="previousPage()" type="button">chevron_left</button>\n                    <button class="uip-button-default uip-icon" @click="nextPage()" type="button">chevron_right</button>\n                  </div>\n                  <button class="uip-button-warning uip-button-danger" @click="icon.value = \'\'">{{strings.clearIcon}}</button>\n                </div>\n                \n              </div>\n            </template>\n        </drop-down>\n      </div>'}};