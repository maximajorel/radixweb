const{__:__,_x:_x,_n:_n,_nx:_nx}=wp.i18n;export function moduleData(){return{props:{display:String,name:String,block:Object},data:function(){return{loading:!0,dynamics:this.uipData.dynamicOptions}},inject:["uipData","uipress","uiTemplate"],watch:{},mounted:function(){},computed:{returnText(){let e=this.uipress.get_block_option(this.block,"block","buttonText",!0);return e?this.uipress.isObject(e)?"string"in e?e.string:"":e:""},newTab(){let e=this.uipress.get_block_option(this.block,"block","openInNewTab");return e||!1},withoutUiPress(){let e=this.uipress.get_block_option(this.block,"block","openWithoutUiPress");return e||!1},getIcon(){let e=this.uipress.get_block_option(this.block,"block","iconSelect");return e?"value"in e?e.value:e:""}},methods:{returnClasses(){let e="",t=this.uipress.get_block_option(this.block,"block","iconPosition");return t&&"right"==t.value&&(e+="uip-flex-reverse"),e+=this.uipress.get_block_option(this.block,"advanced","classes")},openFramedContent(){let e=this.uipress.createUID(),t=this.newTab,i=document.getElementsByClassName("uip-page-content-frame"),n=!1;if(i[0]&&(n=i[0]),!n)return;let s=n.contentWindow.location.href,r=new URL(s);if(!this.withoutUiPress)return void(t?(this.$refs.newTab.href=r.href,this.$refs.newTab.click(),this.$refs.newTab.href="",this.$refs.newTab.blur()):window.location=r.href);r.searchParams.set("uipwf",e),r.searchParams.set("uip-framed-page","0");let a=new FormData;a.append("action","uip_create_frame_switch"),a.append("security",uip_ajax.security),a.append("uid",e),this.uipress.callServer(uip_ajax.ajax_url,a).then(e=>{document.getElementsByClassName("uip-page-content-frame")[0]&&(t?(this.$refs.newTab.href=r.href,this.$refs.newTab.click(),this.$refs.newTab.href="",this.$refs.newTab.blur()):window.location=r.href)})}},template:'\x3c!--builder mode--\x3e\n          <div>\n            <button class="uip-button-default uip-flex uip-gap-xxs uip-flex-center"\n            :class="returnClasses()" :id="block.uid" @click="openFramedContent()">\n              <span class="uip-icon" v-if="getIcon">{{getIcon}}</span>\n              <span class="uip-flex-grow" v-if="returnText != \'\'">{{returnText}}</span>\n            </button>\n            <a ref="newTab" target="_BLANK" class="uip-hidden"></a>\n          </div>'}};