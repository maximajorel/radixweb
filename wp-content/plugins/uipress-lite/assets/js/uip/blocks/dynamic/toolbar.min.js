const{__:__,_x:_x,_n:_n,_nx:_nx}=wp.i18n;export function moduleData(){return{props:{display:String,name:String,block:Object},data:function(){return{toolbar:JSON.parse(JSON.stringify(this.uipData.toolbar))}},inject:["uipData","uipress","uiTemplate"],watch:{"uipData.toolbar":{handler(e,t){},deep:!0}},mounted:function(){let e=this;document.addEventListener("uip_page_change_loaded",t=>{e.updateToolBarFromFrame()},{once:!1})},computed:{getHidden(){let e=this.block.settings.block.options.hiddenToolbarItems.value;return this.uipress.isObject(e)?[]:e}},methods:{updateToolBarFromFrame(){let e=document.getElementsByClassName("uip-page-content-frame"),t=this;if(e[0]){let i=e[0];if(i.contentWindow.uipMasterToolbar&&void 0!==i.contentWindow.uipMasterToolbar){let e=i.contentWindow.uipMasterToolbar;Array.isArray(e)||(t.toolbar=JSON.parse(JSON.stringify(e)))}}},ifHiden(e){return!this.getHidden.includes(e)},customIcon(e){let t=this.uipress.get_block_option(this.block,"block","editToolbarItems");if(!this.uipress.isObject(t))return!1;if(e in t){let i=t[e].icon;if(""!=i)return i}return!1},customTitle(e){let t=this.uipress.get_block_option(this.block,"block","editToolbarItems");if(!this.uipress.isObject(t))return!1;if(Object.hasOwn(t,e)){let i=t[e].title;if(""!=i)return i}return!1}},template:'\n            <div :class="block.settings.advanced.options.classes.value"  class="uip-admin-toolbar uip-text-normal" :id="block.uid">\n              <div class="uip-flex uip-flex-row uip-flex-center uip-gap-xs">\n                <template v-for="item in toolbar">\n                  <div class="" v-if="ifHiden(item.id)" :id="item.id">\n                    \x3c!--FIRST DROP --\x3e\n                    <drop-down :hover="true">\n                      <template v-slot:trigger>\n                        <div @click="uipress.updatePage(item.href)" class="uip-toolbar-top-item uip-flex uip-gap-xxs uip-flex-center">\n                          <div class="uip-icon uip-toolbar-top-item-icon" v-if="customIcon(item.id)">{{customIcon(item.id)}}</div>\n                          <div class="uip-line-height-1" v-if="customTitle(item.id)">{{customTitle(item.id)}}</div>\n                          <div class="uip-line-height-1" v-if="!customTitle(item.id)" v-html="item.title"></div>\n                        </div>\n                      </template>\n                      <template v-slot:content v-if="item.submenu && Object.keys(item.submenu).length > 0">\n                        <div class="uip-flex uip-flex-column uip-toolbar-submenu">\n                        \n                        \n                          \x3c!-- NETWORK ADMIN TOOLBAR --\x3e\n                          <template v-if="item.id == \'my-sites\'" v-for="subsection in item.submenu">\n                            <div class="uip-padding-xs uip-flex uip-flex-column uip-row-gap-xxs uip-min-w-130">\n                              <template v-for="sub in subsection.submenu">\n                                \x3c!--SECOND DROP --\x3e\n                              <drop-down width="200" :hover="true">\n                                  <template v-slot:trigger>\n                                    <div @click="uipress.updatePage(sub.href, true)"  class="uip-toolbar-sub-item uip-flex uip-flex-center uip-flex-between uip-gap-s" >\n                                      <span v-html="sub.title"></span>\n                                      <span v-if="sub.submenu" class="uip-icon">chevron_right</span>\n                                    </div>\n                                  </template>\n                                  <template v-slot:content v-if="sub.submenu">\n                                    <div class="uip-flex uip-flex-column uip-row-gap-xxs uip-padding-xxs uip-toolbar-submenu">\n                                      <template v-for="subsub in sub.submenu">\n                                        <div @click="uipress.updatePage(subsub.href, true)"  class="" v-html="subsub.title"></div>\n                                      </template>\n                                    </div>\n                                  </template>\n                                </drop-down>\n                                \x3c!--END SECOND DROP --\x3e\n                              </template>\n                            </div>\n                            <div v-if="subsection.id == \'my-sites-super-admin\'" class="uip-border-bottom"></div>                          </template>\n                          \x3c!-- END NETWORK ADMIN TOOLBAR --\x3e\n                          \n                          \n                          <div v-else  class="uip-padding-xs uip-min-w-130 uip-flex uip-flex-column uip-row-gap-xxs">\n                            <template v-for="sub in item.submenu">\n                              \x3c!--SECOND DROP --\x3e\n                              <drop-down width="200" :hover="true">\n                                <template v-slot:trigger>\n                                  <div @click="uipress.updatePage(sub.href)"  class="uip-toolbar-sub-item uip-flex uip-flex-center uip-flex-between uip-gap-s" >\n                                    <span v-html="sub.title"></span>\n                                    <span v-if="Object.keys(sub.submenu).length > 0" class="uip-icon">chevron_right</span>\n                                  </div>\n                                </template>\n                                <template v-slot:content v-if="Object.keys(sub.submenu).length > 0">\n                                  <div class="uip-flex uip-flex-column uip-row-gap-xxs uip-padding-xxs uip-toolbar-submenu">\n                                    <template v-for="subsub in sub.submenu">\n                                      <div @click="uipress.updatePage(subsub.href)"  class="" v-html="subsub.title"></div>\n                                    </template>\n                                  </div>\n                                </template>\n                              </drop-down>\n                              \x3c!--END SECOND DROP --\x3e\n                            </template>\n                          </div>\n                        </div>\n                      </template>\n                    </drop-down>\n                    \x3c!--END FIRST DROP --\x3e\n                  </div>\n                </template>\n              </div>\n            </div>'}};